# Flutter é–‹ç™ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆAndroid Studio + Docker å¯¾å¿œï¼‰
ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€Flutterã‚’ä½¿ã£ã¦Webï¼ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã®ã€å†ç¾æ€§ãƒ»ãƒãƒ¼ãƒ å…±æœ‰æ€§ã®é«˜ã„ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚
åˆå¿ƒè€…ã§ã‚‚å®‰å¿ƒã—ã¦å§‹ã‚ã‚‰ã‚Œã‚‹ã‚ˆã†ã«ã€ã€ŒDockeré–‹ç™ºã€ã¨ã€ŒAndroid Studioã§ã®å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆã€ã®ä¸¡æ–¹ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
## âœ… ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã§ãã‚‹ã“ã¨
| æ©Ÿèƒ½                       | èª¬æ˜                                                                 |
|----------------------------|----------------------------------------------------------------------|
| ğŸ’» Android Studioã§ã®å®Ÿæ©Ÿãƒ‡ãƒãƒƒã‚° | å®Ÿæ©Ÿã¾ãŸã¯ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§Flutterã‚¢ãƒ—ãƒªã‚’å³ãƒ†ã‚¹ãƒˆã§ãã¾ã™                                      |
| ğŸ³ Dockerã§ã®ãƒ“ãƒ«ãƒ‰ç’°å¢ƒ       | ãƒãƒ¼ãƒ å…¨å“¡ãŒåŒã˜ãƒ“ãƒ«ãƒ‰ç’°å¢ƒã§Flutteré–‹ç™ºãŒã§ãã¾ã™ï¼ˆCI/CDã«æœ€é©ï¼‰                               |
| ğŸŒ Webã‚¢ãƒ—ãƒªå¯¾å¿œ             | Webãƒ“ãƒ«ãƒ‰ã‚„Chromeå®Ÿè¡Œã‚‚å¯èƒ½ã§ã™ï¼ˆãƒ›ã‚¹ãƒˆã§Flutterã‚’ä½¿ã†å ´åˆï¼‰                                  |
| ğŸ”¥ Firebaseé€£æº             | Firebase Authentication, Firestore, Cloud Functionsãªã©ã‚’FlutterFireã§ç°¡å˜ã«æ¥ç¶šå¯èƒ½ã§ã™ |
---
## ğŸ§° å¿…è¦ãªãƒ„ãƒ¼ãƒ«ï¼ˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¨å¥¨ï¼‰
| ãƒ„ãƒ¼ãƒ«              | ç”¨é€”                                | ãƒªãƒ³ã‚¯                                              |
|---------------------|-------------------------------------|------------------------------------------------------|
| Docker Desktop      | ãƒ“ãƒ«ãƒ‰ç’°å¢ƒå…±æœ‰ãƒ»è‡ªå‹•åŒ–ç”¨             | https://www.docker.com/products/docker-desktop       |
| VS Code             | ã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ï¼‹Remote Containerå¯¾å¿œ     | https://code.visualstudio.com/                       |
| Android Studio      | å®Ÿæ©Ÿï¼ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ‡ãƒãƒƒã‚°ç”¨         | https://developer.android.com/studio                |
| Flutter SDK         | ãƒ›ã‚¹ãƒˆOSã§Webé–‹ç™ºã‚„Chromeå®Ÿè¡Œæ™‚ã«ä½¿ç”¨ | https://docs.flutter.dev/get-started/install        |
| Firebase CLIï¼ˆä»»æ„ï¼‰ | Firebaseã¨é€£æºã™ã‚‹å ´åˆ               | https://firebase.google.com/docs/cli                 |
## Android Studioã§ã®é–‹ç™ºæ‰‹é †ï¼ˆæ¨å¥¨ï¼‰

## âœ… æ§‹æˆå†…å®¹
```pgsql
flutter-docker-project/
â”œâ”€â”€ flutter_project/          â† ã‚¢ãƒ—ãƒªæœ¬ä½“
â”œâ”€â”€ Dockerfile                â† Flutter SDKå«ã‚€ã‚¤ãƒ¡ãƒ¼ã‚¸
â”œâ”€â”€ .devcontainer/            â† VSCode Remoteç”¨è¨­å®šï¼ˆä»»æ„ï¼‰
â”‚   â””â”€â”€ devcontainer.json
â””â”€â”€ README.md                 â† ã“ã®ã‚¬ã‚¤ãƒ‰
```
---
## ğŸš€ Android Studioã§ã®é–‹ç™ºæ‰‹é †
1. Android Studioã§ `flutter_project/` ã‚’é–‹ã  
2. å®Ÿæ©Ÿã¾ãŸã¯AVDã‚’èµ·å‹•  
3. ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼š
```bash
flutter run -d android-xxxxx
```
4. webç¢ºèªãªã‚‰
```bash
flutter run -d chrome
```
`â€»flutter devicesã§ãƒ‡ãƒã‚¤ã‚¹ä¸€è¦§ã‚’ç¢ºèªã§ãã¾ã™ã€‚`

---
## ğŸ³ Dockerã§ã®ãƒ“ãƒ«ãƒ‰æ‰‹é †ï¼ˆä»»æ„ï¼‰
â— äº‹å‰ã« Docker Desktop ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
### â‘  Dockerã§é–‹ç™ºç’°å¢ƒã‚’èµ·å‹•ï¼ˆVSCodeï¼‰
1. VSCodeã§ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
2. ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆF1ï¼‰ã§ Remote-Containers: Reopen in Container ã‚’é¸æŠ
3. Dockerç’°å¢ƒãŒç«‹ã¡ä¸ŠãŒã‚Šã¾ã™ï¼ˆåˆå›ã¯æ™‚é–“ãŒã‹ã‹ã‚‹ï¼‰
### â‘¡ ãƒ“ãƒ«ãƒ‰ã—ã¦APKã‚’ä½œæˆï¼š
```bash
cd flutter_project
flutter build apk
```
### â‘¢ Webã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ï¼š
```bash
flutter build web
```
---
## ğŸ”¥ Firebaseé€£æºï¼ˆå¿…è¦ãªå ´åˆï¼‰
1. Firebase CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install -g firebase-tools
firebase login
```
2. FlutterFire CLIã§åˆæœŸè¨­å®š
```bash
dart pub global activate flutterfire_cli
flutterfire configure
```
`ã“ã‚Œã«ã‚ˆã‚Š firebase_options.dart ãŒè‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™`

---
## ğŸ§¼ ã‚ˆãä½¿ã†Flutterã‚³ãƒãƒ³ãƒ‰
| ã‚³ãƒãƒ³ãƒ‰                         | èª¬æ˜                                     |
|----------------------------------|------------------------------------------|
| `flutter run`                    | ã‚¢ãƒ—ãƒªã‚’æŒ‡å®šãƒ‡ãƒã‚¤ã‚¹ã§èµ·å‹•               |
| `flutter devices`                | æ¥ç¶šä¸­ã®å®Ÿæ©Ÿãƒ»AVDä¸€è¦§ã‚’è¡¨ç¤º              |
| `flutter build apk`              | Androidç”¨APKã‚’ãƒ“ãƒ«ãƒ‰                     |
| `flutter build web`              | Webç”¨ã«HTMLã‚’ãƒ“ãƒ«ãƒ‰                      |
| `flutter clean`                  | ã‚­ãƒ£ãƒƒã‚·ãƒ¥å‰Šé™¤ï¼ˆãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼æ™‚ã«æœ‰åŠ¹ï¼‰  |
---
## è£œè¶³ãƒ¡ãƒ¢
* .env ãªã©ã®ç§˜å¯†æƒ…å ±ã¯ .gitignore ã§é™¤å¤–ã™ã‚‹ã‚ˆã†ã«ã—ã¦ãã ã•ã„
* iOSãƒ“ãƒ«ãƒ‰ã¯ macOS + Xcode ç’°å¢ƒãŒå¿…é ˆã§ã™ï¼ˆDockerã‚„Windowsã§ã¯ä¸å¯ï¼‰
* Firebase Authentication ã‚’ä½¿ã†å ´åˆã€Googleãƒ­ã‚°ã‚¤ãƒ³ã‚„åŒ¿åãƒ­ã‚°ã‚¤ãƒ³ã®æœ‰åŠ¹åŒ–ã‚’å¿˜ã‚Œãšã«ï¼
---
## ğŸ™‹ ã‚ˆãã‚ã‚‹è³ªå•
Q. flutter run -d chrome ãŒDockerã§å‹•ãã¾ã›ã‚“
â†’ Dockerã§ã¯Chromeãªã©GUIã‚¢ãƒ—ãƒªãŒèµ·å‹•ã§ãã¾ã›ã‚“ã€‚ãƒ›ã‚¹ãƒˆOSã®Flutterã‹ã‚‰å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚  
Q. ADBçµŒç”±ã§å®Ÿæ©Ÿã«æ¥ç¶šã§ãã¾ã›ã‚“  
â†’ Android Studioã§é–‹ã„ã¦ã€USBæ¥ç¶š or Wi-Fiãƒ‡ãƒãƒƒã‚°ã§å¯¾å¿œã™ã‚‹ã¨æœ€ã‚‚å®‰å®šã—ã¾ã™ã€‚  
Q. Flutter SDKãŒãªã„ã¨ãƒ“ãƒ«ãƒ‰ã§ãã¾ã›ã‚“ã‹ï¼Ÿ
â†’ Dockerå´ã«å«ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€VSCode + Dockerãªã‚‰Flutterã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯ä¸è¦ã§ã™ã€‚

---
## ğŸ¯ é–‹ç™ºæ¨å¥¨ã‚¹ã‚¿ã‚¤ãƒ«ã¾ã¨ã‚
| æ©Ÿèƒ½             | é–‹ç™ºå ´æ‰€         | å‚™è€ƒ                                     |
|------------------|------------------|------------------------------------------|
| ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°       | VSCode / Android Studio | åŒæ–¹å¯ãƒ»å…±æœ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒå‰æ           |
| å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆ         | Android Studio    | å®Ÿæ©Ÿ or AVD ã§ `flutter run`            |
| Webå®Ÿè¡Œ           | ãƒ›ã‚¹ãƒˆOSï¼ˆFlutter CLIï¼‰| Dockerã§ã¯å®Ÿè¡Œä¸å¯                      |
| ãƒ“ãƒ«ãƒ‰            | Docker            | æœ¬ç•ªAPKã‚„Webãƒ“ãƒ«ãƒ‰ã«æœ€é©                |
---
## ğŸ§‘â€ğŸ’» ã“ã®æ§‹æˆã®åˆ©ç‚¹
* å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆã¨å†ç¾æ€§ã®é«˜ã„CIãƒ“ãƒ«ãƒ‰ã‚’åˆ†é›¢
* Firebaseå¯¾å¿œã‚‚å«ã‚€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
* ãƒãƒ¼ãƒ é–‹ç™ºãƒ»è‡ªå‹•åŒ–ã«ã‚‚å±•é–‹ã—ã‚„ã™ã„
---
ãŠæ°—è»½ã«Forkã—ã¦ã”åˆ©ç”¨ãã ã•ã„ï¼ğŸš€
```yaml

---

## âœ… GitHub ã«ã‚ã’ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆï¼ˆè¦ pushï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« / ãƒ•ã‚©ãƒ«ãƒ€         | èª¬æ˜ |
|----------------------------|------|
| `flutter_project/`         | `flutter create` ã§ä½œæˆã•ã‚ŒãŸæœ¬ä½“ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª |
| `Dockerfile`               | Flutter SDK + build ç”¨ï¼ˆå¾Œè¿°ï¼‰ |
| `.devcontainer/`ï¼ˆä»»æ„ï¼‰   | Docker + VSCodeé€£æºç”¨ |
| `README.md`                | ä¸Šè¨˜ã®å®Œå…¨ç‰ˆ |

---

## âœ… Dockerfileï¼ˆæœ¬ç•ªãƒ“ãƒ«ãƒ‰å‘ã‘ï¼‰

```dockerfile
FROM cirrusci/flutter:stable

# Android SDKãƒ©ã‚¤ã‚»ãƒ³ã‚¹è‡ªå‹•æ‰¿èª
RUN yes | sdkmanager --licenses

# Webå¯¾å¿œï¼ˆä»»æ„ï¼‰
RUN flutter config --enable-web

WORKDIR /app
```
---
## âœ… æœ€å¾Œã®ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ
| é …ç›®                          | çŠ¶æ…‹                 |
|-------------------------------|----------------------|
| Flutter SDK on Android Studio | âœ… ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆ     |
| Androidå®Ÿæ©Ÿ or AVDèµ·å‹•        | âœ… èªè­˜ã•ã‚Œã¦ã„ã‚Œã°OK |
| Firebase CLIï¼ˆä»»æ„ï¼‰          | âœ… `flutterfire` å‹•ä½œå¯ |
| GitHubãƒªãƒã‚¸ãƒˆãƒª              | âœ… æ§‹æˆã‚¢ãƒƒãƒ—æ¸ˆ       |
---
## ğŸ’¬ æ¬¡ã«ã‚„ã‚‹ã“ã¨ï¼ˆãŠã™ã™ã‚ï¼‰
1. Android Studioã§ flutter_project/ ã‚’é–‹ã
2. flutter run -d android ã§å®Ÿè¡Œã—ã¦å®Ÿæ©Ÿãƒ†ã‚¹ãƒˆ
3. flutterfire configure ã‚’å®Ÿè¡Œï¼ˆä½¿ã†ãªã‚‰ï¼‰
4. Dockerå´ã§ flutter build ã‚’è©¦ã™ï¼ˆCIã‚„é…å¸ƒç”¨ã«ï¼‰
---
## å‚™è€ƒ
git cloneã§ãƒ­ãƒ¼ã‚«ãƒ«ã«å…¥ã‚ŒãŸå¾Œã¯ã€pushå…ˆã®URLã‚’å¤‰æ›´ã™ã¹ã—ã€‚
```git
$ git remote set-url origin [å¤‰æ›´å…ˆã®URL]
```


